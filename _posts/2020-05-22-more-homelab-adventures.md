---
layout: post
title:  "More Homelab Adventures"
date:   2020-05-22 18:00:00 +1000
categories: 100daystooffload homelab ansible technology
---
The struggle with Ansible continues. Well, struggle is an exaggeration. I've managed to make progress getting a few of my playbooks running and iterating properly. The Ansible playbook to set up an Ansible node at the moment is 99% done, as is the playbook to get the SSH keys into each server. But getting the playbook to get my Jekyll node running is causing me nothing but problems. The playbook will say it's working but it's not actually installing. I'll have to continue digging through *why* the gem module hasn't been working for me but I'll take the successes where they occur in my other playbooks.

## Evolution of my automation processes

I use VMware as my preferred virtualization platform. Having worked as a pre-sales specialist for it for a few years of course I do. VMware's PowerCLI was one of my first forays into automation, working with PowerCLI scripts to spin up and delete test and demo machines. In the past I had a handful of scripts for each action that I was trying to automate. Moving towards using Github and putting my Bash and Powershell scripts into a repository to iterate on was a huge step forward for me and made the process much simpler. Moving now into Ansible has helped that even further, as surprised as I am about that. Not because I thought my processes were perfect or because I didn't have faith in Ansible as a product, but because I was only working with a handful of scripts and processes that I didn't really think needed much streamlining or would give me significant benefit in doing so. The other component that I've started working on is creating a Powershell/PowerCLI module for my common commands that I run against my lab, for ad-hoc commands that I need to run for things such as creating new VM's. Again, moving from a collection of scripts to a module was something that has delivered benefits beyond what I was expecting in terms of ease of use and maintaining.

The ultimate goal is to be able to have one or several playbooks created that I can run to generate a full demo environment. Not just in my own homelab but also being able to spin up into cloud environments for presentations or POC's for customers too. Each small iteration I make to these playbooks or modules is with the intention of being able to have the ability to create and destroy full ephemeral environments for myself, and in future for customers too. Ideally also having the ability to set my own personal environment as a playbook that I can rinse and repeat is also part of this. The idea of a fully ephemeral environment that I can create and destroy over and over as needed has always been something I've had interest in creating, I've just now got the time, knowledge and interest enough to be able to start making it a reality.
